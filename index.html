<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œ ë¹„ìš©, ì–¼ë§ˆë‚˜ ë¹„ì‹¸ê²Œìš”?</title>
</head>


<style>
  @import url('https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Noto+Serif+KR:wght@200;300;400;500;600;700&display=swap');
  </style>
<!-- <link rel="stylesheet" href="https://d25myo8jkbyg7u.cloudfront.net/common/tanso/style.css"> -->
<link rel="stylesheet" href="./style.css">
<link rel="stylesheet" href="https://d25myo8jkbyg7u.cloudfront.net/common/tanso/dragula.css">
<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.0/anime.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.3/dragula.min.js"></script>
  <script src="https://d25myo8jkbyg7u.cloudfront.net/common/tanso/countUp.min.js"> </script>
  
  <header class="header">
    <a href="https://newstapa.org/"><h1 class="logo-nstp">ë‰´ìŠ¤íƒ€íŒŒ í™ˆí˜ì´ì§€ ë°”ë¡œê°€ê¸°</h1></a>    
  </header>

  <!-- ì¸íŠ¸ë¡œ -->
  <div class="area-intro">
    <div class="intro-bg">
      <div class="sticker posco">
        <img src="https://d25myo8jkbyg7u.cloudfront.net/common/tanso/assets/sticker-posco.png" alt="">
      </div>
      <div class="sticker samsung">
        <img src="https://d25myo8jkbyg7u.cloudfront.net/common/tanso/assets/sticker-samsung.png" alt="">
      </div>
    </div>
    <p class="intro-text">ìš°ë¦¬ë‚˜ë¼ ì£¼ìš” ê¸°ì—…ë“¤ì˜ ì—°ê°„ <u>ì˜¨ì‹¤ê°€ìŠ¤ğŸ­ ë°°ì¶œëŸ‰</u><br> <span class="spec">80,597,292</span>í†¤</p>
    <p class="intro-text">ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œê¶Œ ê°€ê²©ìœ¼ë¡œ í™˜ì‚°í•˜ë©´<br> <span class="spec">170,764,602,086</span>ì›</p>
    <p class="intro-text">ê·¸ëŸ°ë° ê¸°ì—…ì´ ë¶€ë‹´í•˜ëŠ” ê±´â€¦ <span class="spec">0ì›</span>??! ğŸ˜±</p>
    <h1 class="intro-title">ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œ ë¹„ìš©,<br>ì–¼ë§ˆë‚˜ í¼ì¤¬ê²Œìš”?ğŸ¤”</h1>
    <h1 class="intro-title">ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œ ë¹„ìš©,<br>ì–¼ë§ˆë‚˜ í¼ì¤¬ê²Œìš”?ğŸ¤”</h1>
    <!-- <p class="scroll-indicator">ğŸ‘‡ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤ğŸ‘‡</p> -->
  </div>

  <!-- ì„¤ëª… -->
  <div class="area-description">
    <h2 class="description-title">ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œê¶Œ ê±°ë˜ì œë€?</h2>
    <p class="description-text">ê¸°ì—…ì´ ì˜¨ì‹¤ê°€ìŠ¤ë¥¼ ë‚´ë¿œëŠ” ë§Œí¼ ëˆğŸ’°ì„ ë‚´ê²Œ í•´ì„œ, ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œëŸ‰ì„ ì¤„ì´ë„ë¡ í•˜ëŠ” ì œë„ì…ë‹ˆë‹¤. <br>(ì¢€ ë” ìì„¸í•˜ê²Œ ì•Œê³  ì‹¶ë‹¤ë©´? ğŸ‘‰<a href="https://youtu.be/rmPfaPhz63g" target="_blank">í´ë¦­</a>)</p>
    <p class="description-text">ê·¸ëŸ°ë° ë°°ì¶œê¶Œ ê±°ë˜ì œëŠ” ì‚¬ì‹¤ìƒ 'ìˆìœ¼ë‚˜ ë§ˆë‚˜' í•œ ì œë„ë¼ëŠ” ì§€ì ì´ ë§ì•„ìš”.ğŸ¤” ì›ë˜ ê¸°ì—…ì´ ë¶€ë‹´í•´ì•¼ í•  ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œ ë¹„ìš©ì„ ì •ë¶€ê°€ ë¶€ë‹´í•´ì£¼ê³  ìˆê¸° ë•Œë¬¸ì¸ë°ìš”.</p>
    <p class="description-text">ì •ë¶€ê°€ ëŒ€ì‹  ë‚´ê³  ìˆëŠ” ë°°ì¶œê¶Œ ë¹„ìš©, ìê·¸ë§Œì¹˜ 1ë…„ì— <span class="spec">17,076,462,086ì›</span>ì›ì— ë‹¬í•œë‹¤ê³  í•´ìš”.ğŸ˜²<br>ì—„ì²­ë‚œ ê·œëª¨ì£ ? ì €ëŠ” ì‚¬ì‹¤ ìˆ«ìê°€ ë„ˆë¬´ ì»¤ì„œ ì–¼ë§ˆë‚˜ ë¹„ì‹¼ì§€ë„ ì˜ ëª¨ë¥´ê² ë„¤ìš”...ğŸ˜…</p>
    <p class="description-text">ì €ê°™ì´ í—·ê°ˆë¦¬ëŠ” ë¶„ë“¤ì„ ìœ„í•´, ì–¼ë§ˆë‚˜ ë¹„ì‹¼ì§€ ë¹„êµí•´ë³´ëŠ” ê²Œì„ì„ ë§Œë“¤ì—ˆì–´ìš”. ì €ìš¸ì— ê° í•­ëª©ì„ ë“œë˜ê·¸í•´ì„œ ì˜¬ë¦¬ë©´ ê¸ˆì•¡ë§Œí¼ ì €ìš¸ì´ ê¸°ìš¸ì–´ì§‘ë‹ˆë‹¤.</p>
  </div>

  <!-- ì €ìš¸ ì¸í„°ë™í‹°ë¸Œ -->
  <div class="area-scale">
    <div class="values-container">
      <h3 class="values-title">ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œë¹„ìš©</h3>
      <div class="scale-values left"></div>
    </div>

    <div>
      <div class="scale-container">
        <div class="pillar"></div>
        <div class="board">
          <div class="dish left"></div>
          <div class="dish right"></div>
        </div>
      </div>
      <div class="area-data-description">
        
      </div>
    </div>


    <div class="values-container">
      <h3 class="values-title">ì •ë¶€ ì˜ˆì‚°ì•ˆ</h3>
      <div class="scale-values right"></div>
    </div>

  </div>


  <!-- ì•„ì›ƒíŠ¸ë¡œ -->
  <div class="area-outro">

    <h2 class="description-title">ë°°ì¶œê¶Œ ê±°ë˜ì œ ì´ëŒ€ë¡œ ê´œì°®ì„ê¹Œ?</h2>
    <p class="description-text">í•œêµ­ ì •ë¶€ëŠ” ì‘ë…„ 10ì›”, '2050 íƒ„ì†Œì¤‘ë¦½'ì„ ì„ ì–¸í–ˆì–´ìš”. ê¸°í›„ìœ„ê¸°ë¥¼ ë§‰ê¸° ìœ„í•´ 2050ë…„ê¹Œì§€ ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œëŸ‰ì„ 0ìœ¼ë¡œ ë§Œë“¤ê² ë‹¤ëŠ” ëœ»ì¸ë°ìš”.</p>
    <p class="description-text">ê¸°ì—…ì—ê²Œ ë” ë¶€ë‹´ì„ ì¤˜ì„œ ì˜¨ì‹¤ê°€ìŠ¤ë¥¼ ì¤„ì´ë„ë¡ í•´ë„ ëª¨ìë¥¸ë°, ì˜¤íˆë ¤ ê¸°ì—…ì—ê²Œ ëˆì„ ì£¼ê³  ìˆëŠ” ìƒí™©. '2050 íƒ„ì†Œì¤‘ë¦½', ì •ë§ ë‹¬ì„±í•  ì˜ì§€ê°€ ìˆê¸´ ìˆëŠ”ê±¸ê¹Œìš”?</p>
    <p class="description-text">ì¬ë¯¸ìˆê²Œ ë³´ì…¨ë‹¤ë©´ ì•„ë˜ğŸ‘‡ğŸ‘‡ sns ê³µìœ  ë²„íŠ¼ë„ ê¾¹ ëˆŒëŸ¬ì£¼ì„¸ìš”ğŸ˜</p>
    <div class="share-sns-container">
      <button class="share-sns-button">ì¹´ì¹´ì˜¤í†¡ ê³µìœ í•˜ê¸°</button>
      <button class="share-sns-button">í˜ì´ìŠ¤ë¶ ê³µìœ í•˜ê¸°</button>
      <button class="share-sns-button" onclick="copyUrlToClipboard()">ì£¼ì†Œ ë³µì‚¬í•˜ê¸°</button>
    </div>
  </div>

  <footer class="footer">
    <div class="credit"></div>
    <div class="donate">
      <a href="https://newstapa.org/donate_info" target="_blank">ë‰´ìŠ¤íƒ€íŒŒ í›„ì›í•˜ê¸°</a>
    </div>
  </footer>

  <script src="./js/animation.js"></script>

</body>

<script>
// ì—˜ë¦¬ë¨¼íŠ¸ ë“±ë¡
const leftValuesEl = document.querySelectorAll('.scale-values.left')[0]
const rightValuesEl = document.querySelectorAll('.scale-values.right')[0]

// ë°°ì¶œê¶Œ ê¸ˆì•¡ ë°ì´í„°
let dataSet = [
  {
    name: 'posco',
    caption: 'í¬ìŠ¤ì½”',
    description: "2021ë…„ ì˜ˆì‚°ì•ˆì—ëŠ” ì „ë…„ë„ ì˜ˆì‚° 150ì–µì› ëŒ€ë¹„ 150ì–µì› (100.0%) ì¦ì•¡ëœ 300ì–µì›ì´ í¸ì„±ë˜ì—ˆë‹¤.",
    cost: 5200,
    direction: false,
  },
  {
    name: 'samsung',
    caption: 'ì‚¼ì„±ì „ì',
    description: "2021ë…„ ì˜ˆì‚°ì•ˆì—ëŠ” ì „ë…„ë„ ì˜ˆì‚° 150ì–µì› ëŒ€ë¹„ 150ì–µì› (100.0%) ì¦ì•¡ëœ 300ì–µì›ì´ í¸ì„±ë˜ì—ˆë‹¤.",
    cost: 1700,
    direction: false,
  },
  {
    name: 'schoolbus',
    caption: 'ì–´ë¦°ì´ í†µí•™ì°¨ëŸ‰ LPGì°¨ ì „í™˜ì§€ì›',
    description: "2021ë…„ ì˜ˆì‚°ì•ˆì—ëŠ” ì „ë…„ë„ ì˜ˆì‚° 150ì–µì› ëŒ€ë¹„ 150ì–µì› (100.0%) ì¦ì•¡ëœ 300ì–µì›ì´ í¸ì„±ë˜ì—ˆë‹¤.",
    cost: 300,
    direction: true,
  },
  {
    name: 'hydrostation',
    caption: 'ìˆ˜ì†Œì¶©ì „ì†Œ ì„¤ì¹˜',
    description: "2021ë…„ ì˜ˆì‚°ì•ˆì—ëŠ” ì „ë…„ë„ ì˜ˆì‚° 150ì–µì› ëŒ€ë¹„ 150ì–µì› (100.0%) ì¦ì•¡ëœ 300ì–µì›ì´ í¸ì„±ë˜ì—ˆë‹¤.",
    cost: 720,
    direction: true,
  },
  {
    name: 'youthjob',
    caption: 'ì²­ë…„êµ¬ì§í™œë™ ì§€ì›ê¸ˆ',
    description: "êµ­ë¯¼ì·¨ì—…ì§€ì›ì œë„ ì‚¬ì—…ì€ ã€Œêµ¬ì§ì ì·¨ì—…ì´‰ì§„ ë° ìƒí™œì•ˆì •ì§€ì›ì— ê´€í•œ ë²•ë¥ ã€(ì´ í•˜ â€œã€Œêµ¬ì§ìì·¨ì—…ì´‰ì§„ë²•ã€â€)ì— ë”°ë¼ ë„ì…ëœ â€˜í•œêµ­í˜• ì‹¤ì—…ë¶€ì¡°â€™ë¡œì„œ ì €ì†Œë“ êµ¬ì§ì, ì²­ë…„ ì‹ ê·œì‹¤ì—…ì, ê²½ë ¥ë‹¨ì ˆì—¬ì„± ë“± ì·¨ì—…ì·¨ì•½ê³„ì¸µì„ ëŒ€ìƒìœ¼ë¡œ ìƒê³„ì§€ì›ê³¼ ì·¨ì—…ì§€ì›ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ë‹¨ìœ„ì‚¬ì—…ì´ë‹¤",
    cost: 260,
    direction: true,
  }
]

// ì„ íƒì§€ ë Œë”ë§
dataSet.map(function(e, i){
  let elem = `<div class="scale-value" style="color: ${e.direction?'blue':'red'}" data-index="${i}"><img src="https://d25myo8jkbyg7u.cloudfront.net/common/tanso/assets/value-${e.name}.png"><p class="scale-value-caption">${e.caption}</p></div>`;
  e.direction?rightValuesEl.innerHTML+=elem:leftValuesEl.innerHTML+=elem;
})

// í˜„ì¬ ê°ë„
let boardDegree = 0;

// ê°ë„ ìµœëŒ€ê°’
const maxDegree = 35

// ê¸ˆì•¡ì— ë”°ë¥¸ ê°ë„ êµ¬í•˜ê¸°
function getDegree(value, direction){
  let sum = dataSet.reduce((acc, cur, i) => {
    return acc + cur.cost;
  }, 0)
  let degree = (value/sum)*maxDegree;
  return direction ? degree : degree*(-1)
}

// ë³´ë“œ ì›€ì§ì´ê¸°
function rotateBoard(degree = boardDegree){
  anime({
    targets: '.board',
    rotate: degree,
    duration: 2000,
  })
  anime({
    targets: '.dish',
    rotate: degree*(-1),
    duration: 3000,
  })
}

// ì„¤ëª…
const dataDescriptionEl = document.querySelectorAll('.area-data-description')[0];
let dataDescription = [];

function rederDataDescription(){
  dataDescription.map(function(e, i){
    dataDescriptionEl.innerHTML += e.description
    
  })
}

// ë“œë˜ê·¸ ì•¤ ë“œë¡­
const leftDish = document.querySelectorAll('.dish.left')[0];
const rightDish = document.querySelectorAll('.dish.right')[0];

let onLeftValueDrag = dragula([leftValuesEl, leftDish]);
let onRightValueDrag = dragula([rightValuesEl, rightDish]);

// ì™¼ìª½ ì ‘ì‹œ
onLeftValueDrag.on('drop', function(el, source, target){  
  let data = dataSet[el.dataset.index];
  let costDegree = getDegree(data.cost, data.direction);

  if (source == leftValuesEl && target == leftDish) {
    boardDegree = boardDegree - costDegree;
  } else if (source == leftDish && target == leftValuesEl) {
    boardDegree = boardDegree + costDegree;
  }
  rotateBoard(boardDegree);
})
.on('over', function(el, container, source){
  if (container == leftDish) {
    container.className += ' ex-over'
  }
})

// ì˜¤ë¥¸ìª½ ì ‘ì‹œ
onRightValueDrag.on('drop', function(el, source, target){  
  let data = dataSet[el.dataset.index];
  let costDegree = getDegree(data.cost, data.direction);

  if (source == rightValuesEl && target == rightDish) {
    boardDegree = boardDegree - costDegree;
  } else if (source == rightDish && target == rightValuesEl) {
    boardDegree = boardDegree + costDegree;
  }
  rotateBoard();
})

rotateBoard();

// í˜ì´ì§€ ì£¼ì†Œ ë³µì‚¬í•˜ê¸°
function copyUrlToClipboard(){
  var dummy = document.createElement("input");
  var text = location.href;

  document.body.appendChild(dummy);
  dummy.value = text;
  dummy.select();
  document.execCommand("copy");
  document.body.removeChild(dummy);

  alert('í˜ì´ì§€ ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!')
}

// í¬ë ˆë”§ ëª…ë‹¨ ë„£ê¸° 
let creditList = [
  {role: "ê¸°íšÂ·ê°œë°œ", name: "í—ˆí˜„ì¬"},
  {role: "ì·¨ì¬", name: "ì‹ ë™ìœ¤"},
  {role: "ë°ì´í„°", name: "ì—°ë‹¤í˜œ"},
  {role: "ë””ìì¸", name: "ì´ë„í˜„"},
]

const creditEl = document.querySelectorAll('.credit')[0];

creditList.map(function(e){
  creditEl.innerHTML += `<span class="credit-role">${e.role}</span><span class="credit-name">${e.name}</span>`;
})


</script>
</html>